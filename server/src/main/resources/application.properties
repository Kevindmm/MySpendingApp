# ========================================
# JPA / Hibernate Configuration
# ========================================
# SQLite custom dialect (required for non-standard JDBC drivers)
spring.jpa.database-platform=com.kevindmm.spendingapp.dialect.SQLiteDialect

# DDL auto: update (only for dev - use Flyway/Liquibase in prod)
spring.jpa.hibernate.ddl-auto=update

# Preserve entity field names (avoid camelCase -> snake_case conversion)
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# SQL logging (disable in prod)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ========================================
# Database Initialization
# ========================================
# Allow data.sql to run after Hibernate schema creation
spring.jpa.defer-datasource-initialization=true

# Execute data.sql on startup (dev only - remove in prod)
spring.sql.init.mode=always

# ========================================
# DataSource Configuration
# ========================================
# SQLite database file location (Docker volume: /app/data)
spring.datasource.url=jdbc:sqlite:/app/data/mySpendingApp.db

# Custom property used by DbConfig class
spendingapp.db.url=jdbc:sqlite:/app/data/mySpendingApp.db

# ========================================
# Actuator Endpoints
# ========================================
# Expose only health and info endpoints
management.endpoints.web.exposure.include=health,info

# ========================================
# Logging Configuration
# ========================================
# Log file location (Docker volume: /app/logs)
logging.file.name=/app/logs/mySpendingApp.log

# Root log level
logging.level.root=INFO

# Suppress Hibernate schema warnings
logging.level.org.hibernate.tool.schema=ERROR